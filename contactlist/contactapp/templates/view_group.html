<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    {% load static %}
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    {% load bootstrap5  %}
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/solid.min.css" integrity="sha512-pZlKGs7nEqF4zoG0egeK167l6yovsuL8ap30d07kA5AJUq+WysFlQ02DLXAmN3n0+H3JVz5ni8SJZnrOaYXWBA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="{% static 'style.css' %}" rel="stylesheet">

    <title>Contact Book</title>
  </head>
  <body>
    
      <!-- Display current members of the group -->
       
                
      <div class="container">
        <div class="contact-main">
            <div class="contact-head-row d-flex justify-content-between">
                <div class="contact-head-title">
                    My Contacts
                </div>
                <div class="contact-head-logout">
                    
                </div>
            </div>
           <div class="back-wrapper d-flex justify-content-between mt-4">
                <div class="contact-user-details-arrow">
                    <a href="{% url 'view_groups' %}" class="contact-details-link">
                        <i class="fa-solid fa-arrow-left"></i>
                    </a>
                </div>
           </div><hr>
           <h2>{{ group.name }}</h2
           <form method="post" action="{% url 'view_group' group.id %}">
            {% csrf_token %}
            <div class="mb-3">
                {{ add_members_form.non_field_errors }}
                {% for field in add_members_form %}
                    <div class="mb-3">
                        {{ field.label_tag }}
                        
                        {{ field }}
                        {% if field.help_text %}
                            <small class="text-muted">{{ field.help_text }}</small>
                        {% endif %}
                        {{ field.errors }}
                    </div>
                {% endfor %}
            </div>
            <button type="submit" class="btn btn-outline-primary">Add Selected Members</button>
        </form><hr>
        
        <form method="post" action="{% url 'view_group' group.id %}">
            {% csrf_token %}
            <div class="mb-3">
                {{ remove_members_form.non_field_errors }}
                {% for field in remove_members_form %}
                    <div class="mb-3">
                        {{ field.label_tag }}
                        {{ field }}
                        {% if field.help_text %}
                            <small class="text-muted">{{ field.help_text }}</small>
                        {% endif %}
                        {{ field.errors }}
                    </div>
                {% endfor %}
            </div>
            <button type="submit" class="btn btn-outline-danger">Remove Selected Members</button>
        </form>
        <hr>
        <!-- Display current members of the group -->
        <h5>Current memebers</h5>
        {% for member in group.members.all %}
            {{ member.full_name }}<br>
            {% endfor %}
        </div>
       
    </div>

  
                 
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </body>
</html>

